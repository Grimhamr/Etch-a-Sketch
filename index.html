<!DOCTYPE html>

<html>
<head>  
    <title>Etch-a-Sketch!</title>
</head>

<style>
#body{
overflow: hidden;
background-color: coral;
margin: 0px;
}

#clearButton{
    height:4vh;
    width:15vh;
    margin-left:42.5vw;


}
    #mainContainer{
    display: grid;
    position: absolute;
    
    width:100vw;

    }
    
    
    .gridDiv{
    aspect-ratio: 1;
     width:1fr;
        }
    
    .gridDiv:hover {
  background-color: black;

    }

    .gridDivHovered
    {
        background-color: black;
       
    }
</style>

<body id="body">

    <!--button:Add a button to the top of the screen which will clear the current grid
        send the user a popup asking for how many squares per side to make the new grid. 
        Once entered the new grid should be generated in the same total space as before (e.g. 960px wide) 
        and now youâ€™ve got a new sketch pad. Tip: Set the limit for the user input to a maximum of 100. 
        A larger number of squares results in more computer resources being used, resulting in possible delays, 
        freezing, or crashing that we want to prevent.-->
    <button id="clearButton" onclick="buttonClick()">Clear!</button>
    <div id="mainContainer">


    
</div>




</body>


</html>


<script>
   let squaresPerSide=16;
const body = document.querySelector("#body");
let numberOfDivs = (squaresPerSide*squaresPerSide);

buildPage();


function buildPage(){

 
    numberOfDivs = (squaresPerSide*squaresPerSide);
    console.log("page building initialized");
var mainContainer = document.querySelector("#mainContainer");
//change cols and rows depending on new squaresperside
mainContainer.style.setProperty('grid-template-columns', 'repeat(' + squaresPerSide + ', 1fr)');
mainContainer.style.setProperty('grid-template-rows', 'repeat(' + squaresPerSide + ', 1fr)');


var toAdd = document.createDocumentFragment();
//i<numberofdivs because it starts from 0
for(var i=0; i < numberOfDivs; i++){
   var newDiv = document.createElement('div');
   newDiv.id = 'div'+i;
   newDiv.className = 'gridDiv';
   toAdd.appendChild(newDiv);
}
mainContainer.appendChild(toAdd);

//set eventlistener for each square div, to use it to make them black when mouse hovers over, and stay black when they leave
var squareDivs = document.getElementsByClassName("gridDiv");

var turnBlack = function(obj) {
   console.log(this + "square is now black");
   //console does log, but how do i make it stay black? how do i call its id?
  console.log(obj);
  //  add them to the class of Hovered, which makes them black
    this.classList.add("gridDivHovered");
};
//for loop that adds eventlisteners to every single div, making them black on entry and leaving them black on exit
for (var i = 0; i < squareDivs.length; i++) {
    squareDivs[i].addEventListener('mousein', turnBlack, false);
    squareDivs[i].addEventListener('mouseleave', turnBlack, false);
}
}
    //function for button
function buttonClick(){

squaresPerSide = prompt("How many squares per side do you want?");
mainContainer = document.querySelector("#mainContainer");
mainContainer.remove();
mainContainer = document.createElement("div");
mainContainer.id="mainContainer";
body.appendChild(mainContainer);

buildPage();
}
    



</script>